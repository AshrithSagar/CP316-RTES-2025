SRC = gpio.c ledbtn.c uart.c printf.c pwm.c audio.c timer.c bsp.c
OBJ = $(subst .c,.o,$(SRC))
LIB = libbsp.a

all: $(LIB)

########################################################################
include ../rules.mk
########################################################################

$(LIB): $(OBJ)
	/bin/rm -f $@
	$(AR) -r $@ $(OBJ)

bsp.h: audio.h gpio.h ledbtn.h microbit.h printf.h pwm.h timer.h uart.h
	touch bsp.h

clean:
	/bin/rm -f $(OBJ) $(LIB)

.PHONY: all clean

# The following lines can be auto-generated by make depend
gpio.o: gpio.c gpio.h
ledbtn.o: ledbtn.c ledbtn.h microbit.h gpio.h
uart.o: uart.c gpio.h uart.h
printf.o: printf.c printf.h
pwm.o: pwm.c pwm.h
audio.o: audio.c audio.h pwm.h
timer.o: timer.c timer.h
bsp.o: bsp.c bsp.h microbit.h gpio.h ledbtn.h uart.h pwm.h audio.h printf.h timer.h
